# Template file for 'zam-plugins'
pkgname=zam-plugins
version=3.14
revision=1
create_wrksrc=yes
build_wrksrc=${pkgname}
build_style=gnu-makefile
make_use_env=yes
make_build_args="HAVE_ZITA_CONVOLVER=true"
hostmakedepends="pkg-config"
makedepends="libX11-devel libglvnd-devel liblo-devel jack-devel ladspa-sdk
 libsamplerate-devel zita-convolver-devel"
# Use system zita-convolver instead of the vendored one
short_desc="LADSPA/LV2/VST/JACK audio plugins for high-quality processing"
maintainer="Artur Sinila <freesoftware@logarithmus.dev>"
license="GPL-2.0-or-later"
homepage="http://zamaudio.com/"
changelog="https://raw.githubusercontent.com/zamaudio/zam-plugins/master/changelog"
_dpf_commit="08669d1bc30c6e971fde800eade4ca40104ba8b2"
distfiles="https://github.com/zamaudio/zam-plugins/archive/refs/tags/${version}.tar.gz
 https://github.com/DISTRHO/DPF/archive/${_dpf_commit}.tar.gz"
checksum="4a73a73fa03cc6d7faf2d65840349d2a33e7aaef5a13c6345f534b6c434e7b42
 c4359020d1defb7ae2547b5dbdc0cf33f6e0e9cdd3ef75300533b4c4c9f1b9f4"

post_extract() {
	mv ${pkgname}-${version} $pkgname
	mv DPF-${_dpf_commit}/* $build_wrksrc/dpf
}
