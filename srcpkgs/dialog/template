# Template file for 'dialog'
pkgname=dialog
version=1.3.20210621
revision=1
_distver=${version%.*}
_date=${version##*.}
wrksrc="${pkgname}-${_distver}-${_date}"
build_style=gnu-configure
_libtool="LIBTOOL=${XBPS_CROSS_BASE}/usr/bin/libtool"
configure_args="${_libtool} --with-ncursesw --with-libtool --disable-nls"
make_build_args=$_libtool
make_install_args=$_libtool
make_install_target="install-full"
hostmakedepends="libtool"
makedepends="libtool ncurses-devel"
short_desc="Tool to display dialog boxes from shell scripts"
maintainer="Artur Sinila <freesoftware@logarithmus.dev>"
license="LGPL-2.1-only"
homepage="https://invisible-island.net/dialog/"
changelog="https://invisible-island.net/dialog/CHANGES"
distfiles="https://invisible-mirror.net/archives/${pkgname}/${pkgname}-${_distver}-${_date}.tgz"
checksum=c3af22ccfcd9baca384062108dd9354e86990929ee270c239eef69518c5da7c8

dialog-devel_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - development files"
	pkg_install() {
		vmove "usr/bin/dialog-config"
		vmove "usr/include"
		vmove "usr/share/man/man3"
		vmove "usr/lib/*.a"
		vmove "usr/lib/*.so"
	}
}
